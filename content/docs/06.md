

# 06 - 夜雨の向こう

「できれば『よさめ』と読んでほしい」  
『え？』  
「なんでもないです」

[kitab](https://github.com/darshanbaral/kitab) の『前のページ』『次のページ』は、それぞれ [nextChapter.html](https://github.com/darshanbaral/kitab/blob/master/layouts/partials/nextChapter.html) と[previousChapter](https://github.com/darshanbaral/kitab/blob/master/layouts/partials/previousChapter.html) に作り方が書かれている。hugoの `NextInSection` と `PrevInSection` を使った、移植性に優れるものだ。

私は早速Bookテーマに取り入れることにした。他のテンプレートファイルが置かれている `layouts/partials/docs` に上の二つのファイルを入れ、さらにそれらを読み込むよう、 `baseof.html` に書き加える。

```html
    <div class="book-page">
      {{ partial "docs/mobile-header" . }}
      {{ template "main" . }}
      {{ partial "docs/previousChapter" . }}
      {{ partial "docs/nextChapter" . }}
      {{ partial "docs/inject/footer" . }}
    </div>
```

`hugo server --minify --theme book` を実行し、 `localhost:1313` をChromeで開く。

![nextpage1](./nextpage1.png)

Bookテーマに、『次のページ』が表示された。少し期待とは違うけれど。

『…』

私の神妙な表情に、今はまだ口を開くときではないと、C202SAも我慢している。私はひとつ息をすると、微調整に入った。

文字を記号にしてボタンらしく。そしてscssの修正だ。ボタンを横に並べ、そして『先頭へ戻る』ボタンを新たに配置しても邪魔にならないよう、場所に気をつける。それらを修正するたび、Hugoは瞬きほどの速さでページに反映した。

![nextpage2](./nextpage2.png)

「よし」

荒削りではあるけれど、欠けていたピースが収まった。『完成ですか？』緊張の表情を崩さない私に、ためらいがちにC202SAがたずねる。

「見た目だけはね。このボタンは目次ファイルを参照してないから、ファイル名に気をつけなきゃいけないけど」  
『んん？』  
「ええと、この『前へ』と『次へ』はファイル名をアルファベット順に表示するんだ。だからそれにあわせて目次を書かないと、対応がとれなくなっちゃう」  
『あー、そういうことですか。ちょっと不便ですね…』  
「うん。私はファイルの先頭に01とか02って番号を振るから大丈夫なんだけど、ファイル名を単語だけにしたい人はさっきまでの私みたいに悩まないといけない」  
『とりあえず、これ以上あなたが困るのを見るのは、ぼくも、ちょっとつらいです』  
「ごめんね迷惑かけて。おかげで私の問題は解決したから、ありがと」  
『いえ、そんな。お礼なんて』  
「じゃあせっかくの作品だから、[Netlify](https://app.netlify.com/) にアップロードしてみよう」  
『え！？また何かチャレンジするんですか？』  
「へっへっへ、ほんとはこっちが目的だったんだよ」

## Netlify

「とはいってもですね」  
『はい』  
「GitHubリポジトリを作っていればあまり迷わなくてですね」  
『…はい。…なんか、むずむずする口調ですけど』  
「GitHubアカウントでログインして、指示に従ってNetlifyアプリを受け入れるようにして、リポジトリを指定して、デプロイ設定をすれば終わりです。一点、もしくは二点をのぞいて迷わない」  
『はあ、一点とは？』  
「Hugoのデプロイ設定です」

![netlify](./netlify.png)

「私の場合はbookテーマを使っているので、ビルドコマンドが `hugo --minify --theme book` になる。Publish directory は `public` でオーケー」  
『これだけですか？』  
「たぶん、私の場合はそれでうまくいった」

![status](./status.png)

「ビルドに成功するとこのステータス画面に緑色で成功したよーみたいな表示が出ます。これは時間が経ってるので平穏だけど」  
『アイコンがかわいいですね』  
「うん。癒されます。そうそう、ここ少し強調しておきたい」  
『はい』  
「このアイコン、ほんとに癒されます」  
『そ…そうなんですね』  
「絶妙な笑顔です。元気が出ます」  
『ふふ。かわいいキャラクター好きですもんね』  
「うん。細かい気配りだけど、本当に元気が出る」  

『それじゃあ、次行きましょうか。さっき言ってた二点めは何ですか？』  
「二点め？二点め…、あ、そうそう、ブログを書く人は [Netlify CMS](https://www.netlifycms.org/) を使うと『あの黒い画面』を使わなくてもブログが書けるようになるらしいんだけど、私が使っているHugoのテーマは日付で記事を管理するものじゃないので使わないほうが良さそう」  
『Netlify CMSですか』  
「うん。ブログを書くだけならこっちを使ってもいいかも。[Hugoのテンプレート](https://www.netlifycms.org/docs/start-with-a-template/) も用意されてて、それを使うとお菓子とごはんがおいしいKALDIを宣伝するサンプルページが作られる。あとは管理画面であれこれ操作するのはWordPressとかと同じ」  
『KALDIって、コーヒーじゃないんですか、ふつう』  
「ふりかけとおせんべいもおいしいよ。あとドレッシングとパスタソースとスープの素と…」



<br>
<br>
(c) 2019 jamcha (jamcha.aa@gmail.com).

![cc by-sa](https://i.creativecommons.org/l/by-sa/4.0/88x31.png)

